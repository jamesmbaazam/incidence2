% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rolling_average.R
\name{rolling_average}
\alias{rolling_average}
\alias{remove_rolling}
\title{Add and remove a rolling average}
\usage{
rolling_average(x, before = 2)

remove_rolling(x)
}
\arguments{
\item{x}{An \code{\link[=incidence]{incidence()}} object.}

\item{before}{how many prior dates to group with.}
}
\value{
\itemize{
\item \code{rolling_average} An \code{\link[=incidence]{incidence()}} object with an additional, averaged,
column.
\item \code{remove_rolling} An \code{\link[=incidence]{incidence()}} object.
}
}
\description{
Add and remove a rolling average
}
\note{
If groups are present the average will be calculated across each
grouping, therefore care is required when plotting.
}
\examples{
data(ebola_sim_clean, package = "outbreaks")
dat <- ebola_sim_clean$linelist

inci <- incidence(dat,
                  date_index = date_of_onset,
                  interval = "week",
                  last_date = "2014-10-05",
                  groups = gender)

inci \%>\%
  regroup() \%>\%
  rolling_average(before = 2) \%>\%
  plot(color = "white")

inci \%>\%
  rolling_average(before = 2) \%>\%
  facet_plot(color = "white")

inci \%>\%
  rolling_average() \%>\%
  remove_rolling()

}
